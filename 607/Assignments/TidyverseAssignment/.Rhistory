library(fivethirtyeight)
install.packages('fivethirtyeight')
library(dplyr)
library(tidyverse)
library(fivethirtyeight)
airline_safety
?mutate
?pull
airline_safety %>% mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%pull()
airline_safety %>% mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%View()
airline_safety %>% mutate(All_Incidents = incidents_85_99+incidents_00_14)[5]
airline_safety %>% mutate(All_Incidents = incidents_85_99+incidents_00_14)
airline_safety %>% mutate(All_Incidents = incidents_85_99+incidents_00_14) %>% select(All_Incidents)
airline_safety
unique(airline_safety$airline)
airline_safety$airline
str(airline_safety)
airline_safety %>% group_by(incl_reg_subsidiaries, sum(incidents_85_99))
airline_safety %>%
mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%
group_by(incl_reg_subsidiaries, sum(All_Incidents))%>%
select(airline,All_Incidents,incl_reg_subsidiaries)
airline_safety%>%group_by(incl_reg_subsidiaries)
?group_by
airline_safety %>%
mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%
group_by(incl_reg_subsidiaries, sum(All_Incidents))
airline_safety %>%
mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%
group_by(incl_reg_subsidiaries, sum(All_Incidents))%>%group_vars()
airline_safety %>%
mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%
group_by(incl_reg_subsidiaries,sum= sum(All_Incidents))
airline_safety %>%
mutate(All_Incidents = incidents_85_99+incidents_00_14) %>%
group_by(incl_reg_subsidiaries,sum= sum(All_Incidents))%>%View()
?gather
airline_safety %>% ggplot(aes(x= airline, y = fatalities_00_14))+geom_col()
airline_safety %>% ggplot(aes(x= airline, y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))
airline_safety %>% ggplot(aes(x= airline, y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
?reorder
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14, sum), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14, length), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14, max), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14, min), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety%>%reorder(airline,fatal_accidents_00_14)
airline_safety%>%reorder(airline,airline$fatal_accidents_00_14)
airline_safety%>%reorder(airline,airline_safety$fatal_accidents_00_14)
airline_safety%>%reorder(airline,airline_safety$fatal_accidents_00_14,fun = max)
airline_safety%>%reorder(airline,airline_safety$fatal_accidents_00_14,FUN = max)
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14,FUN = max)
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14)
?sort
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14)
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14)
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14, FUN = length())
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14, FUN = length
airline_safety%>%reorder(airline_safety$airline,airline_safety$fatal_accidents_00_14, FUN = length)
str(airline_safety)
reorder(airline_safety$airline,airline_safety$fatalities_85_99)
?reorder
reorder(airline_safety$airline,airline_safety$fatalities_85_99)
reorder(airline_safety$airline,airline_safety$fatalities_85_99, FUN = mean)
reorder(as.factor(airline_safety$airline),airline_safety$fatalities_85_99, FUN = mean)
reorder(as.factor(airline_safety$airline),airline_safety$fatalities_85_99, FUN = mean)%>%View
airline_safety%>%reorder(airline,fatal_accidents_00_14, FUN = mean)
airline_safety%>%reorder(airline,fatal_accidents_00_14, FUN = mean)
airline_safety %>% ggplot(aes(x= reorder(airline,fatal_accidents_00_14), y = fatalities_00_14))+
geom_col()+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(col = incl_reg_subsidiaries)+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(color = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()+
labs(title = "Fatalities by Airline",
x = "Airline",
y = "Fatalities from 2000 to 2014")
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()+
labs(title = "Fatalities By Airline",
x = "Airline",
y = "Fatalities from 2000 to 2014"
legend = "sdf ")
?labs
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90), legend.title = "test")+coord_flip()+
labs(title = "Fatalities By Airline",
x = "Airline",
y = "Fatalities from 2000 to 2014")
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()+
labs(title = "Fatalities By Airline",
x = "Airline",
y = "Fatalities from 2000 to 2014",
fill = "test")
airline_safety %>% ggplot(aes(x=airline,fatal_accidents_00_14, y = fatalities_00_14))+
geom_col(aes(fill = incl_reg_subsidiaries))+
theme_bw()+
theme(axis.text.x = element_text(angle = 90))+coord_flip()+
labs(title = "Fatalities By Airline",
x = "Airline",
y = "Fatalities from 2000 to 2014",
fill = "Has Subsidiary?")
knitr::opts_chunk$set(echo = TRUE)
polls <- read_csv("https://raw.githubusercontent.com/ssufian/Data_607/master/approval_topline.csv")
View(polls)
polls %>% group_by(subgroup)%>%
mutate(Average_of_Approval_Estimate = mean(approve_estimate))
read_excel("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
library(readr)
read_xlsx("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
library(readxl)
library(readr)
library(xlsx)
library(dplyr)
library(tidyr)
library(stringr)
library(tidyverse)
read_xlsx("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
read_excel("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
read.csv("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
test<-read.csv("https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy")
library(httr)
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
GET(url1, write(tf<- tempfile(fileext = ".xls")))
View(test)
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
GET(url1, write(tf<- tempfile(fileext = ".xls")))
test<-read_excel(tf,2L)
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
GET(url1, write_disk(tf<- tempfile(fileext = ".xls")))
test<-read_excel(tf,2L)
View(test)
t<-GET(url1, write_disk(tf<- tempfile(fileext = ".xls")))
View(t)
t$content
as.character(t$content)
t$content[1]
t
Sheetsperbook <- lapply(t$content[1],excel_sheets)
View(Sheetsperbook)
Sheetsperbook[1]
length(Sheetsperbook[1])
Sheetsperbook[1][1]
View(Sheetsperbook)
Sheetsperbook[[1]]
Sheetsperbook[[1]][1]
length(Sheetsperbook[[1]])
Sheetsperbook[1]
Sheetsperbook[[1]]
t<-GET(url1, write_disk(tf<- tempfile(fileext = ".xls")))
url1<-"https://query.data.world/s/sblgcuu6xvbrstywnyib2f2omdiohy"
t<-GET(url1, write_disk(tf<- tempfile(fileext = ".xls")))
t
Sheetsperbook <- lapply(t$content[1],excel_sheets)
Sheetsperbook[[1]]
?readxl
?read_xl
??read_xl
?read_excexl
?read_excel
list(Sheetsperbook,t)
test<-list(Sheetsperbook,t)
ClimateData<-
list(ClimateData<-read_excel(tf,sheet = Sheetsperbook[[2]][1]),
CountryCodes<-read_excel(tf,sheet = Sheetsperbook[[2]][2]),
SeriesCodes<-read_excel(tf,sheet = Sheetsperbook[[2]][3]))
ClimateData<-
list(ClimateData<-read_excel(tf,sheet = Sheetsperbook[[1]][1]),
CountryCodes<-read_excel(tf,sheet = Sheetsperbook[[1]][2]),
SeriesCodes<-read_excel(tf,sheet = Sheetsperbook[[1]][3]))
View(ClimateData)
View(ClimateData)
names(ClimateData<-Sheetsperbook[[1]])
ClimateData<-
list(ClimateData<-read_excel(tf,sheet = Sheetsperbook[[1]][1]),
CountryCodes<-read_excel(tf,sheet = Sheetsperbook[[1]][2]),
SeriesCodes<-read_excel(tf,sheet = Sheetsperbook[[1]][3]))
names(ClimateData)<-Sheetsperbook[[2]]
View(ClimateData)
names(ClimateData)<-Sheetsperbook[[1]]
View(ClimateData)
source('C:/Users/joshu/OneDrive - CDM Smith/Documents/CUNY SPS/Data 607/Assignments/Final Project/FinalProject.R', echo=TRUE)
names(ClimateData)
test<-read_csv("https://fred.stlouisfed.org/graph/fredgraph.csv?bgcolor=%23e1e9f0&chart_type=line&drp=0&fo=open%20sans&graph_bgcolor=%23ffffff&height=450&mode=fred&recession_bars=on&txtcolor=%23444444&ts=12&tts=12&width=1168&nt=0&thu=0&trc=0&show_legend=yes&show_axis_titles=yes&show_tooltip=yes&id=TOTALSA&scale=left&cosd=1976-01-01&coed=2019-10-01&line_color=%234572a7&link_values=false&line_style=solid&mark_type=none&mw=3&lw=2&ost=-99999&oet=99999&mma=0&fml=a&fq=Monthly&fam=avg&fgst=lin&fgsnd=2009-06-01&line_index=1&transformation=lin&vintage_date=2019-12-03&revision_date=2019-12-03&nd=1976-01-01")
View(t)
View(test)
